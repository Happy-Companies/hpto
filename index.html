<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>POWER Homepage Takeover Ad</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      .placeholder {
        background-color: lightgray;
        height: 3000px;
        width: 100vw;
      }

      .ad-container {
        width: 100vw;
        position: relative;
        transition: aspect-ratio 0.5s ease;
        overflow: hidden;
        background-color: darkgray;
        background-size: cover;
        background-position: center;
      }

      .ad-expanded {
        aspect-ratio: 4/1;
        /* Desktop expanded height */
      }

      .ad-collapsed {
        aspect-ratio: 10/1;
        /* Desktop collapsed height */
      }

      /* Desktop Images */
      .ad-container.ad-expanded {
        background-image: url("https://i.ibb.co/QvmLPzH/desktop-expanded-left.png");
      }

      .ad-container.ad-collapsed {
        background-image: url("https://i.imghippo.com/files/Lpka8490FxA.png");
      }

      /* Mobile Images */
      @media (max-width: 768px) {
        .ad-expanded {
          aspect-ratio: 16/9;
          /* Mobile expanded height */
        }

        .ad-collapsed {
          aspect-ratio: 650/213;
          /* Mobile collapsed height */
        }

        .ad-container.ad-expanded {
          background-image: url("https://i.imghippo.com/files/DYn6615Ds.png");
        }

        .ad-container.ad-collapsed {
          background-image: url("https://i.imghippo.com/files/DYn6615Ds.png");
        }
      }

      .ad-video-container {
        position: absolute;
        display: block;
        top: 10%;
        bottom: 10%;
        aspect-ratio: 16 / 9;
        z-index: 5;
      }

      .ad-left {
        left: 2%;
      }

      .ad-right {
        right: 2%;
      }

      video {
        width: auto;
        height: 100%;
      }

      @media (max-width: 768px) {
        .ad-video-container {
          display: none;
        }
      }
    </style>
  </head>

  <body>
    <div id="ad-container" class="ad-container ad-expanded">
      <!-- Video Left (optional) -->
      <div class="ad-video-container ad-left">
        <video id="ad-video" autoplay muted playsinline controls>
          <source
            src="https://cdn.airtory.com/ibv/10ce4ac3c5fffd22c12e9a8e5feb1922_Noro3197hSaddleUp30TmTvcOlvRevJP.mp4"
            type="video/mp4"
          />
          Your browser does not support the video tag.
        </video>
      </div>

      <!-- Video Right (optional) -->
      <div class="ad-video-container ad-right">
        <video id="ad-video" autoplay muted playsinline>
          <source src="" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>

    <!-- TODO: remove placeholder div -->
    <div id="placeholder" class="placeholder"></div>

    <script>
      const adContainer = document.getElementById("ad-container");
      const adVideo = document.getElementById("ad-video");

      // Collapse ad on scroll
      window.addEventListener("scroll", () => {
        if (adContainer.classList.contains("ad-expanded") && scrollY > 20) {
          adContainer.classList.remove("ad-expanded");
          adContainer.classList.add("ad-collapsed");
        }
      });

      // Collapse ad when video ends
      adVideo.addEventListener("ended", () => {
        adContainer.classList.remove("ad-expanded");
        adContainer.classList.add("ad-collapsed");
      });
    </script>
  </body>
</html>
